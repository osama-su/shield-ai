import{_ as X}from"./AppLayout-464b13c2.js";import{s as f,a as y,b as O,c as Y,d as Z,e as v}from"./column.esm-525f822f.js";import{d as c,p as ee,c as le,w as u,o as N,a as e,e as U,b as a,u as s,f as B,t as i,n as x,g as V,O as C,q as _}from"./app-0c62af9f.js";import{s as S}from"./dialog.esm-c414a8e7.js";const te=e("h2",{class:"font-bold"}," Contacts ",-1),ae={class:"py-2"},se={class:"max-w-10xl mx-auto sm:px-6 lg:px-8"},oe={class:"card p-9"},ne={key:0,class:"flex flex-row justify-end mb-5"},re={key:1,class:"table-content"},ie=e("span",null,null,-1),de={key:2,class:"p-6 text-center table-content"},ue=e("i",{class:"pi pi-eye-slash !text-7xl mb-3"},null,-1),ce=e("p",{class:"text-3xl text-gray-900"},"No data Found",-1),xe=[ue,ce],pe={class:"flex flex-row justify-center w-full"},ve={class:"text-[18px] text-[#104772] text-center font-bold leading-6"},me={class:"flex flex-col gap-2",enctype:"multipart/form-data"},fe={class:"flex flex-row flex-nowrap justify-around gap-10"},_e={class:"flex flex-col w-full max-w-lg mx-1"},be=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Name",-1),ge={class:"p-error",id:"text-error"},he={class:"flex flex-col w-full max-w-lg mx-1"},we=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Gender",-1),ye={class:"p-error",id:"text-error"},Ve={class:"flex flex-row flex-nowrap justify-around gap-10"},Ce={class:"flex flex-col w-full max-w-lg mx-1"},je=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Phone Number",-1),ke={class:"p-error",id:"text-error"},De={class:"flex flex-col w-full max-w-lg mx-1"},Fe=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"E-mail",-1),Ne={class:"p-error",id:"text-error"},$e={class:"flex flex-row flex-nowrap justify-around gap-10"},Ue={class:"flex flex-col w-full max-w-lg mx-1"},Se=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Service",-1),Ee={class:"p-error",id:"text-error"},Pe={class:"flex flex-col w-full max-w-lg mx-1"},Me=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Country",-1),Ae={class:"p-error",id:"text-error"},Le={class:"flex flex-row flex-nowrap justify-around gap-10"},Te={class:"flex flex-col w-full max-w-lg mx-1"},Oe=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Notes",-1),Be={class:"p-error",id:"text-error"},Ge={key:0,class:"flex flex-col w-full max-w-lg mx-1"},Ie=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Assign To User",-1),Ke=e("span",null,null,-1),Re={class:"p-error",id:"text-error"},qe={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},ze=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Delete Message")],-1),He={class:"flex flex-col items-center"},Je=e("p",{class:"text-[#D90303] text-[15px] font-extrabold font-sans mb-3.5"},"Are you sure to Delete the Message ?",-1),Qe={class:"text-[#5A6F7E] text-[15px] font-light font-sans"},We={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Xe=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Details Customer")],-1),Ye={class:"px-[10%] flex flex-col gap-4"},Ze={class:"w-[100%] mx-auto"},el={class:"grid grid-cols-2"},ll={class:"text-[#104772] text-[15px]"},tl=e("span",{class:"text-[#104772] font-semibold"},"Name : ",-1),al={class:"text-[#104772] text-[15px]"},sl=e("span",{class:"text-[#104772] font-semibold"},"Phone : ",-1),ol={class:"grid grid-cols-2"},nl={class:"text-[#104772] text-[15px]"},rl=e("span",{class:"text-[#104772] font-semibold"},"Gender : ",-1),il={class:"text-[#104772] text-[15px]"},dl=e("span",{class:"text-[#104772] font-semibold"},"E-Mail : ",-1),ul={class:"grid grid-cols-2"},cl={class:"text-[#104772] text-[15px]"},xl=e("span",{class:"text-[#104772] font-semibold"},"Service : ",-1),pl={class:"text-[#104772] text-[15px]"},vl=e("span",{class:"text-[#104772] font-semibold"},"Notes : ",-1),ml={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},fl=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"}," Send Email ")],-1),_l={class:"flex flex-col gap-2",enctype:"multipart/form-data"},bl={class:"flex flex-row flex-nowrap justify-around gap-10"},gl={class:"flex flex-col w-full max-w-lg mx-1"},hl=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Name",-1),wl={class:"p-error",id:"text-error"},yl={class:"flex flex-col w-full max-w-lg mx-1"},Vl=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"E-mail",-1),Cl={class:"p-error",id:"text-error"},jl={class:"flex flex-row flex-nowrap justify-around gap-10"},kl={class:"flex flex-col w-full max-w-lg mx-1"},Dl=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Subject",-1),Fl={class:"p-error",id:"text-error"},Nl={class:"flex flex-col w-full max-w-lg mx-1"},$l=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Message",-1),Ul={class:"p-error",id:"text-error"},Sl={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Ll={__name:"Index",props:{data:Object,users:Array},setup(m){const M=m;console.log(M.data);const G=c([{name:"View",code:"view"},{name:"Edit",code:"edit"},{name:"Delete",code:"delete"},{name:"Invoices",code:"invoices"},{name:"Send Email",code:"send-email"}]);c([{name:"Active",code:"active"},{name:"InActive",code:"inactive"}]);const n=c({id:0,name:null,phone_number:null,email:null,gender:null,country:null,service:null,notes:null,assigned_user_id:null,_method:"POST"}),o=c({name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null}),p=c({name:null,email:null,subject:null,message:null,_method:"POST"}),I=c(parseInt(M.data.current_page)-1);function K(r,l){return C.get(l+"?page="+(r.page+1)),!0}const b=c("create"),j=c(!1),k=c(null),D=c(!1),A=c(null);function R(){k.value=null,j.value=!1}function q(){A.value=null,D.value=!1}function z(){_.delete("contact-messages/"+k.value.id).then(r=>{k.value=null,j.value=!1,C.reload()}).catch(r=>{})}function H(){_.post("contact-messages/"+p.value.id+"/send-email",p.value).then(r=>{A.value=null,D.value=!1,C.reload()}).catch(r=>{for(const l in r.response.data.errors)o.value[l]=r.response.data.errors[l].join(`
`)})}const $=c(!1),g=c(null),h=c(!1);function J(r,l){r.value==="edit"?(b.value="edit",_.get(`/contact-messages/${l}`).then(d=>{n.value=d.data.data,n.value._method="PUT",h.value=!0})):r.value==="delete"?_.get(`/contact-messages/${l}`).then(d=>{k.value=d.data.data,j.value=!0}):r.value==="view"?_.get(`/contact-messages/${l}`).then(d=>{g.value=d.data.data,$.value=!0}):r.value==="send-email"?_.get(`/contact-messages/${l}`).then(d=>{p.value=d.data.data,D.value=!0}):r.value==="invoices"&&C.get(`${l}/invoices`)}function Q(r){h.value=!1,o.value={},E(),b.value="create"}function W(){console.log(n.value);let r=new FormData;for(const l in n.value)n.value[l]&&r.append(l,n.value[l]);o.value={},b.value==="edit"?(console.log(r),_.post(`/contact-messages/${n.value.id}`,r).then(l=>{C.reload(),h.value=!1,E(),b.value="create"}).catch(l=>{for(const d in l.response.data.errors)o.value[d]=l.response.data.errors[d].join(`
`)})):_.post("/contact-messages",r).then(l=>{C.reload(),h.value=!1,E(),b.value="create"}).catch(l=>{for(const d in l.response.data.errors)o.value[d]=l.response.data.errors[d].join(`
`)})}function E(){n.value={id:0,name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null,commercial_register_id:null,status:null,notes:null,assigned_user_id:null,_method:"POST"}}return(r,l)=>{const d=ee("Textarea");return N(),le(X,{title:"Clients"},{header:u(()=>[te]),default:u(()=>[e("div",ae,[e("div",se,[e("div",oe,[r.$page.props.auth.user.is_admin?(N(),U("div",ne,[a(s(f),{icon:"pi pi-plus-circle",severity:"secondary",raised:"",label:"Add New Message",class:"btn btn-active btn-neutral normal-case !bg-gradient-to-r !from-[#082439] !to-[#104772]",onClick:l[0]||(l[0]=t=>h.value=!0)})])):B("",!0),m.data.data.length?(N(),U("div",re,[a(s(Y),{value:m.data.data,tableStyle:"min-width: 50rem"},{default:u(()=>[a(s(y),{field:"id",header:"#"}),a(s(y),{field:"name",header:"Name"}),a(s(y),{field:"email",header:"Email"}),a(s(y),{field:"phone_number",header:"Phone Number"}),a(s(y),{field:"gender",header:"Gender"}),a(s(y),{field:"service",header:"Service"}),a(s(y),{field:""},{body:u(t=>[a(s(O),{options:G.value,optionLabel:"name",optionValue:"code",onChange:w=>J(w,t.data.id),placeholder:"Action",pt:{root:"!bg-[#F6F7F7] mx-auto",input:"!pr-1 !py-1 !text-[#104772] !border-[#656665]",trigger:({props:w,state:F,context:P})=>({class:F.focused?"pi pi-angle-down !text-[#104772] p-0":"p-0 pi pi-angle-right !text-[#104772]"}),wrapper:{class:"!max-h-[200px] !h-full !bg-[#F6F7F7] rounded-lg"},virtualScroller:{class:"!bg-transparent"},item:{class:"!text-[#5A6F7E] !text-[12px] !bg-transparent !pr-2 !py-2 !font-bold"}}},{dropdownicon:u(()=>[ie]),_:2},1032,["options","onChange","pt"])]),_:1})]),_:1},8,["value"]),a(s(Z),{rows:m.data.per_page,totalRecords:m.data.total,first:I.value*m.data.per_page,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",onPage:l[1]||(l[1]=t=>K(t,m.data.path))},null,8,["rows","totalRecords","first"])])):(N(),U("div",de,xe))])])]),a(s(S),{visible:h.value,"onUpdate:visible":l[11]||(l[11]=t=>h.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{header:{class:"!pb-0"}}},{header:u(()=>[e("div",pe,[e("p",ve,i(b.value!=="create"?"Edit":"Add New")+" Message",1)])]),default:u(()=>[e("form",me,[e("div",fe,[e("div",_e,[be,a(s(v),{id:"value",modelValue:n.value.name,"onUpdate:modelValue":l[2]||(l[2]=t=>n.value.name=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.name}]),placeholder:"Company Name","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",ge,i(o.value.name||"Â "),1)]),e("div",he,[we,a(s(v),{id:"value",modelValue:n.value.gender,"onUpdate:modelValue":l[3]||(l[3]=t=>n.value.gender=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.gender}]),placeholder:"Gender","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",ye,i(o.value.gender||"Â "),1)])]),e("div",Ve,[e("div",Ce,[je,a(s(v),{id:"value",modelValue:n.value.phone_number,"onUpdate:modelValue":l[4]||(l[4]=t=>n.value.phone_number=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.phone_number}]),placeholder:"Phone Number","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",ke,i(o.value.phone_number||"Â "),1)]),e("div",De,[Fe,a(s(v),{id:"value",modelValue:n.value.email,"onUpdate:modelValue":l[5]||(l[5]=t=>n.value.email=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.email}]),placeholder:"E-mail","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ne,i(o.value.email||"Â "),1)])]),e("div",$e,[e("div",Ue,[Se,a(s(v),{id:"value",modelValue:n.value.service,"onUpdate:modelValue":l[6]||(l[6]=t=>n.value.service=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.service}]),placeholder:"Service","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ee,i(o.value.service||"Â "),1)]),e("div",Pe,[Me,a(s(v),{id:"value",modelValue:n.value.country,"onUpdate:modelValue":l[7]||(l[7]=t=>n.value.country=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.country}]),placeholder:"Country","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ae,i(o.value.country||"Â "),1)])]),e("div",Le,[e("div",Te,[Oe,a(d,{id:"value",modelValue:n.value.notes,"onUpdate:modelValue":l[8]||(l[8]=t=>n.value.notes=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.notes}]),placeholder:"Notes","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Be,i(o.value.notes||"Â "),1)]),r.$page.props.auth.user.is_admin?(N(),U("div",Ge,[Ie,a(s(O),{modelValue:n.value.assigned_user_id,"onUpdate:modelValue":l[9]||(l[9]=t=>n.value.assigned_user_id=t),options:m.users,"option-value":"id",optionLabel:"name",class:x([{"p-invalid":o.value.assigned_user_id},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose User",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:w,context:F})=>({class:w.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:u(()=>[Ke]),_:1},8,["modelValue","options","class","pt"]),e("small",Re,i(o.value.status||"Â "),1)])):B("",!0)]),e("div",qe,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:Q}),a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:b.value!=="create"?"Save":"Add",onClick:l[10]||(l[10]=t=>W())},null,8,["label"])])])]),_:1},8,["visible"]),a(s(S),{visible:j.value,"onUpdate:visible":l[13]||(l[13]=t=>j.value=t),modal:"",closable:!1,header:"Delete Message",style:{width:"50vw"}},{header:u(()=>[ze]),footer:u(()=>[e("div",We,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:R}),a(s(f),{label:"Delete",class:"!w-[20%] !bg-[#D90303] !text-[#FFFFFF] !border-none",onClick:l[12]||(l[12]=t=>z())})])]),default:u(()=>{var t;return[e("div",He,[Je,e("p",Qe,i((t=k.value)==null?void 0:t.name),1)])]}),_:1},8,["visible"]),a(s(S),{visible:$.value,"onUpdate:visible":l[15]||(l[15]=t=>$.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{}},{header:u(()=>[Xe]),footer:u(()=>[e("div",ml,[a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:"Done",onClick:l[14]||(l[14]=t=>$.value=!1)})])]),default:u(()=>{var t,w,F,P,L,T;return[e("div",Ye,[e("div",Ze,[e("div",el,[e("p",ll,[tl,V(i((t=g.value)==null?void 0:t.name),1)]),e("p",al,[sl,V(i((w=g.value)==null?void 0:w.phone_number),1)])]),e("div",ol,[e("p",nl,[rl,V(i((F=g.value)==null?void 0:F.gender),1)]),e("p",il,[dl,V(i((P=g.value)==null?void 0:P.email),1)])]),e("div",ul,[e("p",cl,[xl,V(i((L=g.value)==null?void 0:L.service),1)]),e("p",pl,[vl,V(i((T=g.value)==null?void 0:T.notes),1)])])])])]}),_:1},8,["visible"]),a(s(S),{visible:D.value,"onUpdate:visible":l[21]||(l[21]=t=>D.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{header:{class:"!pb-0"}}},{header:u(()=>[fl]),default:u(()=>[e("form",_l,[e("div",bl,[e("div",gl,[hl,a(s(v),{id:"value",modelValue:p.value.name,"onUpdate:modelValue":l[16]||(l[16]=t=>p.value.name=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.name}]),placeholder:"Company Name","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",wl,i(o.value.name||"Â "),1)]),e("div",yl,[Vl,a(s(v),{id:"value",modelValue:p.value.email,"onUpdate:modelValue":l[17]||(l[17]=t=>p.value.email=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.email}]),placeholder:"E-mail","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Cl,i(o.value.email||"Â "),1)])]),e("div",jl,[e("div",kl,[Dl,a(s(v),{id:"value",modelValue:p.value.subject,"onUpdate:modelValue":l[18]||(l[18]=t=>p.value.subject=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.subject}]),placeholder:"Subject","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Fl,i(o.value.subject||"Â "),1)]),e("div",Nl,[$l,a(d,{id:"value",modelValue:p.value.message,"onUpdate:modelValue":l[19]||(l[19]=t=>p.value.message=t),type:"text",class:x(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":o.value.message}]),placeholder:"Message Body","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ul,i(o.value.message||"Â "),1)])]),e("div",Sl,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:q}),a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:"Send",onClick:l[20]||(l[20]=t=>H())})])])]),_:1},8,["visible"])]),_:1})}}};export{Ll as default};
