import{_ as Z}from"./AppLayout-ba942d7c.js";import{s as ee,a as f,b as y,c as E,d as te,e as le,f as V}from"./column.esm-debf82bc.js";import{p as ae,o as j,e as D,q as se,d as p,c as oe,w as u,a as e,b as a,u as s,f as R,t as r,n as m,g as $,O as C,s as h}from"./app-f3e7d240.js";import{s as z}from"./dialog.esm-1e7cf34e.js";var ne=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}

.p-fluid .p-inputtextarea {
    width: 100%;
}
`,ie={root:function(x){var N=x.instance,S=x.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":N.filled,"p-inputtextarea-resizable ":S.autoResize}]}},re=ae(ne,{name:"textarea",manual:!0}),de=re.load,ue={name:"BaseTextarea",extends:ee,props:{modelValue:null,autoResize:Boolean},css:{classes:ie,loadStyle:de},provide:function(){return{$parentInstance:this}}},I={name:"Textarea",extends:ue,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){var x=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height="calc(".concat(x.borderTopWidth," + ").concat(x.borderBottomWidth," + ").concat(this.$el.scrollHeight,"px)"),parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(x){this.autoResize&&this.resize(),this.$emit("update:modelValue",x.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},ce=["value"];function pe(d,x,N,S,M,o){return j(),D("textarea",se({class:d.cx("root"),value:d.modelValue,onInput:x[0]||(x[0]=function(){return o.onInput&&o.onInput.apply(o,arguments)})},d.ptm("root",o.ptmParams),{"data-pc-name":"textarea"}),null,16,ce)}I.render=pe;const xe=e("h2",{class:"font-bold"}," Contacts ",-1),me={class:"py-2"},ve={class:"max-w-10xl mx-auto sm:px-6 lg:px-8"},fe={class:"card p-9"},he={key:0,class:"flex flex-row justify-end mb-5"},ge={key:1,class:"table-content"},_e=e("span",null,null,-1),be={key:2,class:"p-6 text-center table-content"},we=e("i",{class:"pi pi-eye-slash !text-7xl mb-3"},null,-1),ye=e("p",{class:"text-3xl text-gray-900"},"No data Found",-1),Ve=[we,ye],$e={class:"flex flex-row justify-center w-full"},Ce={class:"text-[18px] text-[#104772] text-center font-bold leading-6"},je={class:"flex flex-col gap-2",enctype:"multipart/form-data"},Se={class:"flex flex-row flex-nowrap justify-around gap-10"},ke={class:"flex flex-col w-full max-w-lg mx-1"},Fe=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Name",-1),Pe={class:"p-error",id:"text-error"},De={class:"flex flex-col w-full max-w-lg mx-1"},Ne=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Gender",-1),Ue=e("span",null,null,-1),Ee={class:"p-error",id:"text-error"},ze={class:"flex flex-row flex-nowrap justify-around gap-10"},Me={class:"flex flex-col w-full max-w-lg mx-1"},Ae=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Phone Number",-1),Le={class:"p-error",id:"text-error"},Ie={class:"flex flex-col w-full max-w-lg mx-1"},Te=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"E-mail",-1),Be={class:"p-error",id:"text-error"},Oe={class:"flex flex-row flex-nowrap justify-around gap-10"},Re={class:"flex flex-col w-full max-w-lg mx-1"},Ge=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Service",-1),Ke=e("span",null,null,-1),He={class:"p-error",id:"text-error"},We={class:"flex flex-col w-full max-w-lg mx-1"},qe=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Country",-1),Ye={class:"p-error",id:"text-error"},Je={class:"flex flex-row flex-nowrap justify-around gap-10"},Qe={class:"flex flex-col w-full max-w-lg mx-1"},Xe=e("label",{for:"message.notes",class:"!text-[15px] !text-[#104772]"},"Notes",-1),Ze={class:"p-error",id:"text-error"},et={key:0,class:"flex flex-col w-full max-w-lg mx-1"},tt=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Assign To User",-1),lt=e("span",null,null,-1),at={class:"p-error",id:"text-error"},st={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},ot=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Delete Message")],-1),nt={class:"flex flex-col items-center"},it=e("p",{class:"text-[#D90303] text-[15px] font-extrabold font-sans mb-3.5"},"Are you sure to Delete the Message ?",-1),rt={class:"text-[#5A6F7E] text-[15px] font-light font-sans"},dt={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},ut=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Details Customer")],-1),ct={class:"px-[10%] flex flex-col gap-4"},pt={class:"w-[100%] mx-auto"},xt={class:"grid grid-cols-2"},mt={class:"text-[#104772] text-[15px]"},vt=e("span",{class:"text-[#104772] font-semibold"},"Name : ",-1),ft={class:"text-[#104772] text-[15px]"},ht=e("span",{class:"text-[#104772] font-semibold"},"Phone : ",-1),gt={class:"grid grid-cols-2"},_t={class:"text-[#104772] text-[15px]"},bt=e("span",{class:"text-[#104772] font-semibold"},"Gender : ",-1),wt={class:"text-[#104772] text-[15px]"},yt=e("span",{class:"text-[#104772] font-semibold"},"E-Mail : ",-1),Vt={class:"grid grid-cols-2"},$t={class:"text-[#104772] text-[15px]"},Ct=e("span",{class:"text-[#104772] font-semibold"},"Service : ",-1),jt={class:"text-[#104772] text-[15px]"},St=e("span",{class:"text-[#104772] font-semibold"},"Notes : ",-1),kt={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Ft=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"}," Send Email ")],-1),Pt={class:"flex flex-col gap-2",enctype:"multipart/form-data"},Dt={class:"flex flex-row flex-nowrap justify-around gap-10"},Nt={class:"flex flex-col w-full max-w-lg mx-1"},Ut=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Name",-1),Et={class:"p-error",id:"text-error"},zt={class:"flex flex-col w-full max-w-lg mx-1"},Mt=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"E-mail",-1),At={class:"p-error",id:"text-error"},Lt={class:"flex flex-row flex-nowrap justify-around gap-10"},It={class:"flex flex-col w-full max-w-lg mx-1"},Tt=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Subject",-1),Bt={class:"p-error",id:"text-error"},Ot={class:"flex flex-col w-full max-w-lg mx-1"},Rt=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Message",-1),Gt={class:"p-error",id:"text-error"},Kt={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Jt={__name:"Index",props:{data:Object,users:Array},setup(d){const x=d;console.log(x.data);const N=p([{name:"View",code:"view"},{name:"Edit",code:"edit"},{name:"Delete",code:"delete"},{name:"Invoices",code:"invoices"},{name:"Send Email",code:"send-email"}]);p([{name:"Active",code:"active"},{name:"InActive",code:"inactive"}]);const S=p([{name:"Male",code:"male"},{name:"Female",code:"female"}]),M=p([{name:"Link your bank account",code:"link-bank-account"},{name:"Start buying",code:"start-buying"}]),o=p({id:0,name:null,phone_number:null,email:null,gender:null,country:null,service:null,notes:null,assigned_user_id:null,_method:"POST"}),n=p({name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null}),v=p({name:null,email:null,subject:null,message:null,_method:"POST"}),G=p(parseInt(x.data.current_page)-1);function K(i,l){return C.get(l+"?page="+(i.page+1)),!0}const g=p("create"),k=p(!1),F=p(null),P=p(!1),T=p(null);function H(){F.value=null,k.value=!1}function W(){T.value=null,P.value=!1}function q(){h.delete("contact-messages/"+F.value.id).then(i=>{F.value=null,k.value=!1,C.reload()}).catch(i=>{})}function Y(){h.post("contact-messages/"+v.value.id+"/send-email",v.value).then(i=>{T.value=null,P.value=!1,C.reload()}).catch(i=>{for(const l in i.response.data.errors)n.value[l]=i.response.data.errors[l].join(`
`)})}const U=p(!1),_=p(null),b=p(!1);function J(i,l){i.value==="edit"?(g.value="edit",h.get(`/contact-messages/${l}`).then(t=>{o.value=t.data.data,o.value._method="PUT",b.value=!0})):i.value==="delete"?h.get(`/contact-messages/${l}`).then(t=>{F.value=t.data.data,k.value=!0}):i.value==="view"?h.get(`/contact-messages/${l}`).then(t=>{_.value=t.data.data,U.value=!0}):i.value==="send-email"?h.get(`/contact-messages/${l}`).then(t=>{v.value=t.data.data,P.value=!0}):i.value==="invoices"&&C.get(`${l}/invoices`)}function Q(i){b.value=!1,n.value={},A(),g.value="create"}function X(){console.log(o.value);let i=new FormData;for(const l in o.value)o.value[l]&&i.append(l,o.value[l]);n.value={},g.value==="edit"?(console.log(i),h.post(`/contact-messages/${o.value.id}`,i).then(l=>{C.reload(),b.value=!1,A(),g.value="create"}).catch(l=>{for(const t in l.response.data.errors)n.value[t]=l.response.data.errors[t].join(`
`)})):h.post("/contact-messages",i).then(l=>{C.reload(),b.value=!1,A(),g.value="create"}).catch(l=>{for(const t in l.response.data.errors)n.value[t]=l.response.data.errors[t].join(`
`)})}function A(){o.value={id:0,name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null,commercial_register_id:null,status:null,notes:null,assigned_user_id:null,_method:"POST"}}return(i,l)=>(j(),oe(Z,{title:"Clients"},{header:u(()=>[xe]),default:u(()=>[e("div",me,[e("div",ve,[e("div",fe,[i.$page.props.auth.user.is_admin?(j(),D("div",he,[a(s(f),{icon:"pi pi-plus-circle",severity:"secondary",raised:"",label:"Add New Message",class:"btn btn-active btn-neutral normal-case !bg-gradient-to-r !from-[#082439] !to-[#104772]",onClick:l[0]||(l[0]=t=>b.value=!0)})])):R("",!0),d.data.data.length?(j(),D("div",ge,[a(s(te),{value:d.data.data,tableStyle:"min-width: 50rem"},{default:u(()=>[a(s(y),{field:"id",header:"#"}),a(s(y),{field:"name",header:"Name"}),a(s(y),{field:"email",header:"Email"}),a(s(y),{field:"phone_number",header:"Phone Number"}),a(s(y),{field:"",header:"Gender"},{body:u(t=>[e("p",null,r(S.value.map(c=>c.code==t.data.gender?c.name:t.data.gender)[0]),1)]),_:1}),a(s(y),{field:"service",header:"Service"},{body:u(t=>[e("p",null,r(M.value.map(c=>c.code==t.data.service?c.name:t.data.service)[0]),1)]),_:1}),a(s(y),{field:""},{body:u(t=>[a(s(E),{options:N.value,optionLabel:"name",optionValue:"code",onChange:c=>J(c,t.data.id),placeholder:"Action",pt:{root:"!bg-[#F6F7F7] mx-auto",input:"!pr-1 !py-1 !text-[#104772] !border-[#656665]",trigger:({props:c,state:w,context:L})=>({class:w.focused?"pi pi-angle-down !text-[#104772] p-0":"p-0 pi pi-angle-right !text-[#104772]"}),wrapper:{class:"!max-h-[200px] !h-full !bg-[#F6F7F7] rounded-lg"},virtualScroller:{class:"!bg-transparent"},item:{class:"!text-[#5A6F7E] !text-[12px] !bg-transparent !pr-2 !py-2 !font-bold"}}},{dropdownicon:u(()=>[_e]),_:2},1032,["options","onChange","pt"])]),_:1})]),_:1},8,["value"]),a(s(le),{rows:d.data.per_page,totalRecords:d.data.total,first:G.value*d.data.per_page,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",onPage:l[1]||(l[1]=t=>K(t,d.data.path))},null,8,["rows","totalRecords","first"])])):(j(),D("div",be,Ve))])])]),a(s(z),{visible:b.value,"onUpdate:visible":l[11]||(l[11]=t=>b.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{header:{class:"!pb-0"}}},{header:u(()=>[e("div",$e,[e("p",Ce,r(g.value!=="create"?"Edit":"Add New")+" Message",1)])]),default:u(()=>[e("form",je,[e("div",Se,[e("div",ke,[Fe,a(s(V),{id:"value",modelValue:o.value.name,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.name=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.name}]),placeholder:"Company Name","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Pe,r(n.value.name||" "),1)]),e("div",De,[Ne,a(s(E),{modelValue:o.value.gender,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.gender=t),options:S.value,"option-value":"code",optionLabel:"name",class:m([{"p-invalid":n.value.gender},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose Gender",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:c,context:w})=>({class:c.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:u(()=>[Ue]),_:1},8,["modelValue","options","class","pt"]),e("small",Ee,r(n.value.gender||" "),1)])]),e("div",ze,[e("div",Me,[Ae,a(s(V),{id:"value",modelValue:o.value.phone_number,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.phone_number=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.phone_number}]),placeholder:"Phone Number","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Le,r(n.value.phone_number||" "),1)]),e("div",Ie,[Te,a(s(V),{id:"value",modelValue:o.value.email,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.email=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.email}]),placeholder:"E-mail","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Be,r(n.value.email||" "),1)])]),e("div",Oe,[e("div",Re,[Ge,a(s(E),{modelValue:o.value.service,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.service=t),options:M.value,"option-value":"code",optionLabel:"name",class:m([{"p-invalid":n.value.service},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose Service",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:c,context:w})=>({class:c.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:u(()=>[Ke]),_:1},8,["modelValue","options","class","pt"]),e("small",He,r(n.value.service||" "),1)]),e("div",We,[qe,a(s(V),{id:"value",modelValue:o.value.country,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.country=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.country}]),placeholder:"Country","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ye,r(n.value.country||" "),1)])]),e("div",Je,[e("div",Qe,[Xe,a(s(I),{id:"message.notes",modelValue:o.value.notes,"onUpdate:modelValue":l[8]||(l[8]=t=>o.value.notes=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600 !resize-none",{"p-invalid":n.value.notes}]),placeholder:"Notes","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ze,r(n.value.notes||" "),1)]),i.$page.props.auth.user.is_admin?(j(),D("div",et,[tt,a(s(E),{modelValue:o.value.assigned_user_id,"onUpdate:modelValue":l[9]||(l[9]=t=>o.value.assigned_user_id=t),options:d.users,"option-value":"id",optionLabel:"name",class:m([{"p-invalid":n.value.assigned_user_id},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose User",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:c,context:w})=>({class:c.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:u(()=>[lt]),_:1},8,["modelValue","options","class","pt"]),e("small",at,r(n.value.status||" "),1)])):R("",!0)]),e("div",st,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:Q}),a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:g.value!=="create"?"Save":"Add",onClick:l[10]||(l[10]=t=>X())},null,8,["label"])])])]),_:1},8,["visible"]),a(s(z),{visible:k.value,"onUpdate:visible":l[13]||(l[13]=t=>k.value=t),modal:"",closable:!1,header:"Delete Message",style:{width:"50vw"}},{header:u(()=>[ot]),footer:u(()=>[e("div",dt,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:H}),a(s(f),{label:"Delete",class:"!w-[20%] !bg-[#D90303] !text-[#FFFFFF] !border-none",onClick:l[12]||(l[12]=t=>q())})])]),default:u(()=>{var t;return[e("div",nt,[it,e("p",rt,r((t=F.value)==null?void 0:t.name),1)])]}),_:1},8,["visible"]),a(s(z),{visible:U.value,"onUpdate:visible":l[15]||(l[15]=t=>U.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{}},{header:u(()=>[ut]),footer:u(()=>[e("div",kt,[a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:"Done",onClick:l[14]||(l[14]=t=>U.value=!1)})])]),default:u(()=>{var t,c,w,L,B,O;return[e("div",ct,[e("div",pt,[e("div",xt,[e("p",mt,[vt,$(r((t=_.value)==null?void 0:t.name),1)]),e("p",ft,[ht,$(r((c=_.value)==null?void 0:c.phone_number),1)])]),e("div",gt,[e("p",_t,[bt,$(r((w=_.value)==null?void 0:w.gender),1)]),e("p",wt,[yt,$(r((L=_.value)==null?void 0:L.email),1)])]),e("div",Vt,[e("p",$t,[Ct,$(r((B=_.value)==null?void 0:B.service),1)]),e("p",jt,[St,$(r((O=_.value)==null?void 0:O.notes),1)])])])])]}),_:1},8,["visible"]),a(s(z),{visible:P.value,"onUpdate:visible":l[21]||(l[21]=t=>P.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{header:{class:"!pb-0"}}},{header:u(()=>[Ft]),default:u(()=>[e("form",Pt,[e("div",Dt,[e("div",Nt,[Ut,a(s(V),{id:"value",modelValue:v.value.name,"onUpdate:modelValue":l[16]||(l[16]=t=>v.value.name=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.name}]),placeholder:"Company Name","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Et,r(n.value.name||" "),1)]),e("div",zt,[Mt,a(s(V),{id:"value",modelValue:v.value.email,"onUpdate:modelValue":l[17]||(l[17]=t=>v.value.email=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.email}]),placeholder:"E-mail","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",At,r(n.value.email||" "),1)])]),e("div",Lt,[e("div",It,[Tt,a(s(V),{id:"value",modelValue:v.value.subject,"onUpdate:modelValue":l[18]||(l[18]=t=>v.value.subject=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.subject}]),placeholder:"Subject","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Bt,r(n.value.subject||" "),1)]),e("div",Ot,[Rt,a(s(I),{id:"value",modelValue:v.value.message,"onUpdate:modelValue":l[19]||(l[19]=t=>v.value.message=t),type:"text",class:m(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":n.value.message}]),placeholder:"Message Body","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Gt,r(n.value.message||" "),1)])]),e("div",Kt,[a(s(f),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:W}),a(s(f),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:"Send",onClick:l[20]||(l[20]=t=>Y())})])])]),_:1},8,["visible"])]),_:1}))}};export{Jt as default};
