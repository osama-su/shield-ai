import{_ as z}from"./AppLayout-4e841bc5.js";import{a as h,b as g,c as k,d as G,e as q,f as F}from"./column.esm-aea92631.js";import{d as r,c as H,w as i,o as A,a as e,e as U,b as a,u as s,f as J,n as p,t as u,g as D,O as C,s as v}from"./app-78feccbc.js";import{s as j}from"./dialog.esm-ac99061a.js";const Q=e("h2",{class:"font-bold"}," Contacts ",-1),W={class:"py-2"},X={class:"max-w-10xl mx-auto sm:px-6 lg:px-8"},Y={class:"card p-9"},Z={key:0,class:"flex flex-row justify-end mb-5"},ee={key:1,class:"table-content"},te=e("span",null,null,-1),le={key:2,class:"p-6 text-center table-content"},ae=e("i",{class:"pi pi-eye-slash !text-7xl mb-3"},null,-1),se=e("p",{class:"text-3xl text-gray-900"},"No data Found",-1),oe=[ae,se],ne={class:"flex flex-row justify-center w-full"},ie={class:"text-[18px] text-[#104772] text-center font-bold leading-6"},de={class:"flex flex-col gap-2",enctype:"multipart/form-data"},re={class:"flex flex-row flex-nowrap justify-around gap-10"},ue={class:"flex flex-col w-full max-w-lg mx-1"},ce=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Name",-1),pe={class:"p-error",id:"text-error"},xe={class:"flex flex-col w-full max-w-lg mx-1"},fe=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Is Admin",-1),me=e("span",null,null,-1),ve={class:"p-error",id:"text-error"},_e={class:"flex flex-row flex-nowrap justify-around gap-10"},he={class:"flex flex-col w-full max-w-lg mx-1"},ge=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"E-mail",-1),be={class:"p-error",id:"text-error"},we={class:"flex flex-col w-full max-w-lg mx-1"},ye=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Status",-1),Ce=e("span",null,null,-1),Ve={class:"p-error",id:"text-error"},Fe={class:"flex flex-row flex-nowrap justify-around gap-10"},Ae={class:"flex flex-col w-full max-w-lg mx-1"},De=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Password",-1),Pe={class:"p-error",id:"text-error"},$e={class:"flex flex-col w-full max-w-lg mx-1"},ke=e("label",{for:"value",class:"!text-[15px] !text-[#104772]"},"Confirm Password",-1),Ue={class:"p-error",id:"text-error"},je={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Ne=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Delete Message")],-1),Se={class:"flex flex-col items-center"},Ee=e("p",{class:"text-[#D90303] text-[15px] font-extrabold font-sans mb-3.5"},"Are you sure to Delete the Message ?",-1),Le={class:"text-[#5A6F7E] text-[15px] font-light font-sans"},Me={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},Be=e("div",{class:"flex flex-row justify-center w-full"},[e("p",{class:"text-[18px] text-[#104772] text-center font-bold leading-6"},"Details User")],-1),Oe={class:"px-[10%] flex flex-col gap-4"},Ie={class:"w-[100%] mx-auto"},Te={class:"grid grid-cols-2"},Ke={class:"text-[#104772] text-[15px]"},Re=e("span",{class:"text-[#104772] font-semibold"},"Name : ",-1),ze={class:"text-[#104772] text-[15px]"},Ge=e("span",{class:"text-[#104772] font-semibold"},"Is Admin : ",-1),qe={class:"grid grid-cols-2"},He={class:"text-[#104772] text-[15px]"},Je=e("span",{class:"text-[#104772] font-semibold"},"Gender : ",-1),Qe={class:"text-[#104772] text-[15px]"},We=e("span",{class:"text-[#104772] font-semibold"},"E-Mail : ",-1),Xe={class:"flex flex-row justify-center flex-nowrap w-full gap-10"},lt={__name:"Index",props:{data:Object,users:Array},setup(x){const N=x;console.log(N.data);const S=r([{name:"View",code:"view"},{name:"Edit",code:"edit"},{name:"Delete",code:"delete"}]);r([{name:"Active",code:"active"},{name:"Pending",code:"pending"}]);const o=r({id:0,name:null,is_admin:0,status:null,email:null,password:null,password_confirmation:null,_method:"POST"}),d=r({name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null}),E=r({name:null,email:null,subject:null,message:null,_method:"POST"}),L=r(parseInt(N.data.current_page)-1);function M(n,l){return C.get(l+"?page="+(n.page+1)),!0}const f=r("create"),b=r(!1),w=r(null),B=r(!1);r(null);function O(){w.value=null,b.value=!1}function I(){v.delete("users/"+w.value.id).then(n=>{w.value=null,b.value=!1,C.reload()}).catch(n=>{})}const V=r(!1),y=r(null),m=r(!1);function T(n,l){n.value==="edit"?(f.value="edit",v.get(`/users/${l}`).then(t=>{o.value=t.data.data,o.value._method="PUT",m.value=!0})):n.value==="delete"?v.get(`/users/${l}`).then(t=>{w.value=t.data.data,b.value=!0}):n.value==="view"?v.get(`/users/${l}`).then(t=>{y.value=t.data.data,V.value=!0}):n.value==="send-email"?v.get(`/users/${l}`).then(t=>{E.value=t.data.data,B.value=!0}):n.value==="invoices"&&C.get(`${l}/invoices`)}function K(n){m.value=!1,d.value={},P(),f.value="create"}function R(){console.log(o.value);let n=new FormData;for(const l in o.value)o.value[l]&&n.append(l,o.value[l]);d.value={},f.value==="edit"?(console.log(n),v.post(`/users/${o.value.id}`,n).then(l=>{C.reload(),m.value=!1,P(),f.value="create"}).catch(l=>{for(const t in l.response.data.errors)d.value[t]=l.response.data.errors[t].join(`
`)})):v.post("/users",n).then(l=>{C.reload(),m.value=!1,P(),f.value="create"}).catch(l=>{for(const t in l.response.data.errors)d.value[t]=l.response.data.errors[t].join(`
`)})}function P(){o.value={id:0,name:null,address:null,phone_number:null,email:null,iban:null,swift_code:null,commercial_register_id:null,status:null,notes:null,assigned_user_id:null,_method:"POST"}}return(n,l)=>(A(),H(z,{title:"Clients"},{header:i(()=>[Q]),default:i(()=>[e("div",W,[e("div",X,[e("div",Y,[n.$page.props.auth.user.is_admin?(A(),U("div",Z,[a(s(h),{icon:"pi pi-plus-circle",severity:"secondary",raised:"",label:"Add New User",class:"btn btn-active btn-neutral normal-case !bg-gradient-to-r !from-[#082439] !to-[#104772]",onClick:l[0]||(l[0]=t=>m.value=!0)})])):J("",!0),x.data.data.length?(A(),U("div",ee,[a(s(G),{value:x.data.data,tableStyle:"min-width: 50rem"},{default:i(()=>[a(s(g),{field:"id",header:"#"}),a(s(g),{field:"name",header:"Name"}),a(s(g),{field:"email",header:"Email"}),a(s(g),{field:"is_admin",header:"Is Admin"},{body:i(t=>[e("p",{class:p(t.data.is_admin===1?"text-[#46CB00]":"text-[#FF0000]")},u(t.data.is_admin===1?"Admin":"User"),3)]),_:1}),a(s(g),{field:"status",header:"Status"},{body:i(t=>[e("p",{class:p(t.data.status==="active"?"text-[#46CB00]":"text-[#FF0000]")},u(t.data.status==="active"?"Active":"Pending"),3)]),_:1}),a(s(g),{field:""},{body:i(t=>[a(s(k),{options:S.value,optionLabel:"name",optionValue:"code",onChange:c=>T(c,t.data.id),placeholder:"Action",pt:{root:"!bg-[#F6F7F7] mx-auto",input:"!pr-1 !py-1 !text-[#104772] !border-[#656665]",trigger:({props:c,state:_,context:$})=>({class:_.focused?"pi pi-angle-down !text-[#104772] p-0":"p-0 pi pi-angle-right !text-[#104772]"}),wrapper:{class:"!max-h-[200px] !h-full !bg-[#F6F7F7] rounded-lg"},virtualScroller:{class:"!bg-transparent"},item:{class:"!text-[#5A6F7E] !text-[12px] !bg-transparent !pr-2 !py-2 !font-bold"}}},{dropdownicon:i(()=>[te]),_:2},1032,["options","onChange","pt"])]),_:1})]),_:1},8,["value"]),a(s(q),{rows:x.data.per_page,totalRecords:x.data.total,first:L.value*x.data.per_page,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",onPage:l[1]||(l[1]=t=>M(t,x.data.path))},null,8,["rows","totalRecords","first"])])):(A(),U("div",le,oe))])])]),a(s(j),{visible:m.value,"onUpdate:visible":l[9]||(l[9]=t=>m.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{header:{class:"!pb-0"}}},{header:i(()=>[e("div",ne,[e("p",ie,u(f.value!=="create"?"Edit":"Add New")+" User",1)])]),default:i(()=>[e("form",de,[e("div",re,[e("div",ue,[ce,a(s(F),{id:"value",modelValue:o.value.name,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.name=t),type:"text",class:p(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":d.value.name}]),placeholder:"Company Name","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",pe,u(d.value.name||" "),1)]),e("div",xe,[fe,a(s(k),{modelValue:o.value.is_admin,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.is_admin=t),options:[{name:"Admin",code:1},{name:"User",code:0}],"option-value":"code",optionLabel:"name",class:p([{"p-invalid":d.value.is_admin},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose Admin",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:c,context:_})=>({class:c.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:i(()=>[me]),_:1},8,["modelValue","class","pt"]),e("small",ve,u(d.value.is_admin||" "),1)])]),e("div",_e,[e("div",he,[ge,a(s(F),{id:"value",modelValue:o.value.email,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.email=t),type:"text",class:p(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":d.value.email}]),placeholder:"E-mail","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",be,u(d.value.email||" "),1)]),e("div",we,[ye,a(s(k),{modelValue:o.value.status,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.status=t),options:[{name:"Active",code:"active"},{name:"Pending",code:"pending"}],"option-value":"code",optionLabel:"name",class:p([{"p-invalid":d.value.status},"w-full md:w-14rem !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600"]),placeholder:"Choose Status",pt:{input:{class:"!text-[12px]"},trigger:({props:t,state:c,context:_})=>({class:c.focused?"pi pi-chevron-down !text-[#104772]":"pi pi-chevron-right !text-[#104772]"})}},{dropdownicon:i(()=>[Ce]),_:1},8,["modelValue","class","pt"]),e("small",Ve,u(d.value.status||" "),1)])]),e("div",Fe,[e("div",Ae,[De,a(s(F),{id:"value",modelValue:o.value.password,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.password=t),type:"password",class:p(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":d.value.password}]),placeholder:"Password","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Pe,u(d.value.password||" "),1)]),e("div",$e,[ke,a(s(F),{id:"value",modelValue:o.value.password_confirmation,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.password_confirmation=t),type:"password",class:p(["w-full !text-[12px] !h-[50%] !bg-neutral-100 !text-neutral-600",{"p-invalid":d.value.password_confirmation}]),placeholder:"Confirm Password","aria-describedby":"text-error"},null,8,["modelValue","class"]),e("small",Ue,u(d.value.password_confirmation||" "),1)])]),e("div",je,[a(s(h),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:K}),a(s(h),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:f.value!=="create"?"Save":"Add",onClick:l[8]||(l[8]=t=>R())},null,8,["label"])])])]),_:1},8,["visible"]),a(s(j),{visible:b.value,"onUpdate:visible":l[11]||(l[11]=t=>b.value=t),modal:"",closable:!1,header:"Delete Message",style:{width:"50vw"}},{header:i(()=>[Ne]),footer:i(()=>[e("div",Me,[a(s(h),{label:"Cancel",class:"!w-[20%] !bg-[#F0C0C0] !text-[#D90303] !border-none",onClick:O}),a(s(h),{label:"Delete",class:"!w-[20%] !bg-[#D90303] !text-[#FFFFFF] !border-none",onClick:l[10]||(l[10]=t=>I())})])]),default:i(()=>{var t;return[e("div",Se,[Ee,e("p",Le,u((t=w.value)==null?void 0:t.name),1)])]}),_:1},8,["visible"]),a(s(j),{visible:V.value,"onUpdate:visible":l[13]||(l[13]=t=>V.value=t),modal:"",closable:!1,style:{width:"50vw"},pt:{}},{header:i(()=>[Be]),footer:i(()=>[e("div",Xe,[a(s(h),{type:"button",class:"!w-[20%] !bg-gradient-to-r !from-[#082439] !to-[#104772] !border-none",label:"Done",onClick:l[12]||(l[12]=t=>V.value=!1)})])]),default:i(()=>{var t,c,_,$;return[e("div",Oe,[e("div",Ie,[e("div",Te,[e("p",Ke,[Re,D(u((t=y.value)==null?void 0:t.name),1)]),e("p",ze,[Ge,D(u(((c=y.value)==null?void 0:c.is_admin)===1?"Admin":"User"),1)])]),e("div",qe,[e("p",He,[Je,D(u((_=y.value)==null?void 0:_.status),1)]),e("p",Qe,[We,D(u(($=y.value)==null?void 0:$.email),1)])])])])]}),_:1},8,["visible"])]),_:1}))}};export{lt as default};
